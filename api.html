<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="genindex.html"><link rel="search" title="Search" href="search.html"><link rel="next" title="Jupyter Integration" href="jupyter_magic.html"><link rel="prev" title="Example Applications for Memray" href="examples/README.html">
        <link rel="prefetch" href="_static/logo.png" as="image">

    <link rel="shortcut icon" href="_static/favicon.ico"><!-- Generated with Sphinx 8.1.3 and Furo 2025.12.19 -->
        <title>Memray API - memray</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d111a655" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=7bdb33bb" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=8dab3a3b" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle site navigation sidebar">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc" aria-label="Toggle table of contents sidebar">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <span class="icon"><svg><use href="#svg-menu"></use></svg></span>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">memray</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="_static/logo.png" alt="Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting started</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Hands-on Tutorial</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tutorials/index.html">About This Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/1.html">Exercise 1 - Fibonacci Sequence</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/2.html">Exercise 2 - Clinging Onto Memory</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/3.html">Exercise 3 - LRU Cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/additional_features.html">What to learn about next</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Concepts</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="run.html">The <code class="docutils literal notranslate"><span class="pre">run</span></code> subcommand</a></li>
<li class="toctree-l1"><a class="reference internal" href="python_allocators.html">Python allocators</a></li>
<li class="toctree-l1"><a class="reference internal" href="memory.html">Memory overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="temporary_allocations.html">Temporary allocations</a></li>
<li class="toctree-l1"><a class="reference internal" href="attach.html">Attaching to a running process</a></li>
<li class="toctree-l1"><a class="reference internal" href="native_mode.html">Symbolic information in native mode</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/README.html">Example Applications for Memray</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Memray API</a></li>
<li class="toctree-l1"><a class="reference internal" href="jupyter_magic.html">Jupyter Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="performance.html">Performance</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reporters</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="live.html">Live Reporting</a></li>
<li class="toctree-l1"><a class="reference internal" href="summary.html">Summary Reporter</a></li>
<li class="toctree-l1"><a class="reference internal" href="flamegraph.html">Flame Graph Reporter</a></li>
<li class="toctree-l1"><a class="reference internal" href="table.html">Table Reporter</a></li>
<li class="toctree-l1"><a class="reference internal" href="tree.html">Tree Reporter</a></li>
<li class="toctree-l1"><a class="reference internal" href="stats.html">Stats Reporter</a></li>
<li class="toctree-l1"><a class="reference internal" href="transform.html">Transform Reporter</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Project Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="supported_environments.html">Supported environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="licenses.html">Licenses</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="_sources/api.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="memray-api">
<span id="module-memray"></span><h1>Memray API<a class="headerlink" href="#memray-api" title="Link to this heading">¶</a></h1>
<p>Memray exposes an API that can be used to programmatically activate or
deactivate tracking of a Python process’s memory allocations. You do this by
creating a <a class="reference internal" href="#memray.Tracker" title="memray.Tracker"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Tracker</span></code></a> object and using it as a context manager in a <code class="docutils literal notranslate"><span class="pre">with</span></code>
statement. While the body of the <code class="docutils literal notranslate"><span class="pre">with</span></code> statement runs, tracking will be
enabled, with output being sent to a destination you specify when creating the
<a class="reference internal" href="#memray.Tracker" title="memray.Tracker"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Tracker</span></code></a>. When the <code class="docutils literal notranslate"><span class="pre">with</span></code> block ends, tracking will be disabled and the
output will be flushed and closed.</p>
<section id="api-usage">
<h2>API Usage<a class="headerlink" href="#api-usage" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="memray.Tracker">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">memray.</span></span><span class="sig-name descname"><span class="pre">Tracker</span></span><a class="headerlink" href="#memray.Tracker" title="Link to this definition">¶</a></dt>
<dd><p>Context manager for tracking memory allocations in a Python script.</p>
<p>You can track memory allocations in a Python process by using a Tracker as
a context manager:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">memray</span><span class="o">.</span><span class="n">Tracker</span><span class="p">(</span><span class="s2">&quot;some_output_file.bin&quot;</span><span class="p">):</span>
</pre></div>
</div>
<p>Any code inside of the <code class="docutils literal notranslate"><span class="pre">with</span></code> block will have its allocations tracked.
Any allocations made by other threads will also be tracked for the duration
of the <code class="docutils literal notranslate"><span class="pre">with</span></code> block. Because of the way tracking works, there can only be
one tracker active in the entire program at a time. Attempting to activate
a tracker while one is already active will raise an exception, as will
attempting to activate the same tracker more than once. If you want to
re-enable tracking after the <code class="docutils literal notranslate"><span class="pre">with</span></code> block ends, you will need to create
a fresh <a class="reference internal" href="#memray.Tracker" title="memray.Tracker"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Tracker</span></code></a> instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.14)"><em>pathlib.Path</em></a>) -- The name of the file to write the
captured allocations into. This is the only argument that can be
passed positionally. If not provided, the <em>destination</em> keyword
argument must be provided.</p></li>
<li><p><strong>destination</strong> (<a class="reference internal" href="#memray.FileDestination" title="memray.FileDestination"><em>FileDestination</em></a><em> or </em><a class="reference internal" href="#memray.SocketDestination" title="memray.SocketDestination"><em>SocketDestination</em></a>) -- The destination to
write captured allocations to. If provided, the <em>file_name</em>
argument must not be provided.</p></li>
<li><p><strong>native_traces</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) -- Whether or not to capture native stack frames, in
addition to Python stack frames (see <a class="reference internal" href="run.html#native-tracking"><span class="std std-ref">Native tracking</span></a>).
Defaults to False.</p></li>
<li><p><strong>trace_python_allocators</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) -- Whether or not to trace Python allocators
as independent allocations. (see <a class="reference internal" href="python_allocators.html#python-allocators"><span class="std std-ref">Python allocators</span></a>).
Defaults to False.</p></li>
<li><p><strong>track_object_lifetimes</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) -- Whether or not to track which objects are
created during the tracking session and still alive at the end (or
in other words, what objects are leaked by the code being tracked).
Defaults to False.</p></li>
<li><p><strong>follow_fork</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) -- Whether or not to continue tracking in a subprocess
that is forked from the tracked process (see <a class="reference internal" href="run.html#tracking-across-forks"><span class="std std-ref">Tracking across forks</span></a>). Defaults to False.</p></li>
<li><p><strong>memory_interval_ms</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) -- How many milliseconds to wait between sending
periodic resident set size updates. By default, every 10
milliseconds a record is written that contains the current
timestamp and the total number of bytes of virtual memory allocated
by the process. These records are used to create the graph of
memory usage over time that appears at the top of the flame graph,
for instance. This parameter lets you adjust the frequency between
updates, though you shouldn’t need to change it.</p></li>
<li><p><strong>file_format</strong> (<a class="reference internal" href="#memray.FileFormat" title="memray.FileFormat"><em>FileFormat</em></a>) -- The format that should be used when writing
to the capture file. See the <a class="reference internal" href="#memray.FileFormat" title="memray.FileFormat"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FileFormat</span></code></a> documentation for a list
of supported file formats and their limitations.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="memray.Tracker.get_surviving_objects">
<span class="sig-name descname"><span class="pre">get_surviving_objects</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#memray.Tracker.get_surviving_objects" title="Link to this definition">¶</a></dt>
<dd><p>Get a list of objects that were alive at the end of the tracking period.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of objects that were alive at the end of the tracking period.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)">list</a></p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.14)"><strong>RuntimeError</strong></a> -- If <em>track_object_lifetimes</em> was not enabled at
    Tracker construction, or if tracking has not completed yet.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="memray.FileDestination">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">memray.</span></span><span class="sig-name descname"><span class="pre">FileDestination</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.14)"><span class="pre">Path</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compress_on_exit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/memray/_destination.html#FileDestination"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#memray.FileDestination" title="Link to this definition">¶</a></dt>
<dd><p>Specify an output file to write captured allocations into.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> -- The path to the output file.</p></li>
<li><p><strong>overwrite</strong> -- By default, if a file already exists at that path an
exception will be raised. If you provide <code class="docutils literal notranslate"><span class="pre">overwrite=True</span></code>, then
the existing file will be overwritten instead.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="memray.SocketDestination">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">memray.</span></span><span class="sig-name descname"><span class="pre">SocketDestination</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">server_port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">address</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'127.0.0.1'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/memray/_destination.html#SocketDestination"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#memray.SocketDestination" title="Link to this definition">¶</a></dt>
<dd><p>Specify a port to serve captured allocations on.</p>
<p>When a <code class="docutils literal notranslate"><span class="pre">SocketDestination</span></code> is passed to the <a class="reference internal" href="#memray.Tracker" title="memray.Tracker"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Tracker</span></code></a> constructor, the
process will immediately create a server socket on the given port and wait
for a reader to connect (see <a class="reference internal" href="run.html#live-tracking"><span class="std std-ref">Live tracking</span></a>). The <a class="reference internal" href="#memray.Tracker" title="memray.Tracker"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Tracker</span></code></a>
constructor will not return until a client has connected. Any records the
tracker goes on to capture will be written over the socket to the attached
client.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server_port</strong> -- The port to accept a client connection on.</p></li>
<li><p><strong>address</strong> -- The address to bind the server socket to. This should
generally be left alone, but you might want to use <code class="docutils literal notranslate"><span class="pre">&quot;0.0.0.0&quot;</span></code> to
accept connections from clients on other machines. Note that
sending records to clients on other machines is generally a bad
idea, though. In particular, this won’t play nicely with
<a class="reference internal" href="run.html#native-tracking"><span class="std std-ref">Native tracking</span></a>, because the client on the remote machine
won’t have access to the shared libraries used by the tracked
process.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="memray.FileFormat">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">memray.</span></span><span class="sig-name descname"><span class="pre">FileFormat</span></span><a class="headerlink" href="#memray.FileFormat" title="Link to this definition">¶</a></dt>
<dd><p>An enumeration.</p>
<p>This enumeration lists the capture file formats that Memray can write. The
<a class="reference internal" href="#memray.Tracker" title="memray.Tracker"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Tracker</span></code></a> constructor accepts a <em>file_format</em> keyword argument for choosing
a different format than the default.</p>
<blockquote>
<div><dl class="py attribute">
<dt class="sig sig-object py" id="memray.FileFormat.ALL_ALLOCATIONS">
<span class="sig-name descname"><span class="pre">ALL_ALLOCATIONS</span></span><a class="headerlink" href="#memray.FileFormat.ALL_ALLOCATIONS" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>Record every allocation that the tracked process performs. This is the
default format. The produced capture files may be very large if the process
performs many allocations. This is the only format that allows detecting
<a class="reference internal" href="temporary_allocations.html"><span class="doc">temporary allocations</span></a> or using the
<a class="reference internal" href="stats.html"><span class="doc">stats reporter</span></a>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="memray.FileFormat.AGGREGATED_ALLOCATIONS">
<span class="sig-name descname"><span class="pre">AGGREGATED_ALLOCATIONS</span></span><a class="headerlink" href="#memray.FileFormat.AGGREGATED_ALLOCATIONS" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>For every location where the tracked process performed any allocations, the
capture file includes a count of:</p>
<ul class="simple">
<li><p>How many allocations at that location had not yet been deallocated when
the process reached its heap memory high water mark</p></li>
<li><p>How many bytes had been allocated at that location and not yet
deallocated when the process reached its heap memory high water mark</p></li>
<li><p>How many allocations at that location were leaked (i.e. not deallocated
before tracking stopped)</p></li>
<li><p>How many bytes were leaked by allocations at that location</p></li>
</ul>
<p>You cannot find <a class="reference internal" href="temporary_allocations.html"><span class="doc">temporary allocations</span></a> using
this capture file format, since finding temporary allocations requires
knowing when each allocation was deallocated, and that information is lost
by the aggregation. You also cannot use the <a class="reference internal" href="stats.html"><span class="doc">stats reporter</span></a>
with this capture file format, because it needs to see every allocation’s
size to compute its statistics.</p>
<p>Additionally, if the process is killed before tracking ends (for instance,
by the Linux OOM killer), then no useful information is ever written to the
capture file, because aggregation was still happening inside the process
when it died.</p>
<p>If you can live with these limitations, then <code class="docutils literal notranslate"><span class="pre">AGGREGATED_ALLOCATIONS</span></code>
results in much smaller capture files that can be used seamlessly with most
reporters.</p>
</div></blockquote>
</dd></dl>

</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="jupyter_magic.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Jupyter Integration</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="examples/README.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Example Applications for Memray</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Memray API</a><ul>
<li><a class="reference internal" href="#api-usage">API Usage</a><ul>
<li><a class="reference internal" href="#memray.Tracker"><code class="docutils literal notranslate"><span class="pre">Tracker</span></code></a><ul>
<li><a class="reference internal" href="#memray.Tracker.get_surviving_objects"><code class="docutils literal notranslate"><span class="pre">Tracker.get_surviving_objects()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#memray.FileDestination"><code class="docutils literal notranslate"><span class="pre">FileDestination</span></code></a></li>
<li><a class="reference internal" href="#memray.SocketDestination"><code class="docutils literal notranslate"><span class="pre">SocketDestination</span></code></a></li>
<li><a class="reference internal" href="#memray.FileFormat"><code class="docutils literal notranslate"><span class="pre">FileFormat</span></code></a><ul>
<li><a class="reference internal" href="#memray.FileFormat.ALL_ALLOCATIONS"><code class="docutils literal notranslate"><span class="pre">FileFormat.ALL_ALLOCATIONS</span></code></a></li>
<li><a class="reference internal" href="#memray.FileFormat.AGGREGATED_ALLOCATIONS"><code class="docutils literal notranslate"><span class="pre">FileFormat.AGGREGATED_ALLOCATIONS</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=46bd48cc"></script>
    </body>
</html>